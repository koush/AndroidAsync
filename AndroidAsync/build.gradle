buildscript {
    repositories {
        maven { url 'http://repo1.maven.org/maven2' }
    }
    dependencies {
        classpath 'com.android.tools.build:gradle:+'
    }
}
apply plugin: 'com.android.library'

android {
    dependencies {
//        compile 'com.squareup.okio:okio:+'
//        androidTestCompile 'com.squareup.okhttp:okhttp:1.+'
    }

    sourceSets {
        main {
            manifest.srcFile 'AndroidManifest.xml'

//            jniLibs.srcDirs = ['libs/']

            java.srcDirs=['src/'
//                          , 'okhttp/'
//                          , 'okhttp-shim/'
//                          , '../okio/okio/src/main/java/'
                          , '../conscrypt/'
                          , '../compat/'
//                          , '../okhttp/okhttp/src/main/java/'
            ]
        }
        androidTest.java.srcDirs=['test/src/']
        androidTest.res.srcDirs=['test/res/']
        androidTest.assets.srcDirs=['test/assets/']
    }

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_7
        targetCompatibility JavaVersion.VERSION_1_7
    }

    lintOptions {
        abortOnError false
    }

    defaultConfig {
        minSdkVersion 9
        targetSdkVersion 19
    }

    compileSdkVersion 19
    buildToolsVersion "20.0.0"
}

// upload to maven task
if (System.getenv().I_AM_KOUSH == 'true') {
  apply from: 'https://raw.githubusercontent.com/koush/mvn-repo/master/maven.gradle'
}
